{% extends 'layout.html' %}

{% block content %}
<div class="row">
  <form class="col s12">
    <div class="row">
      <div class="input-field col s6">
        <i class="material-icons prefix">web</i>
        <input id="name" type="text" class="validate" value="{{monitor.name}}">
        <label for="name">Monitor Name</label>
      </div>
      <div class="input-field col s6">
        <i class="material-icons prefix">domain</i>
        <input placeholder="https://url.com" id="base_url" type="text" class="validate" value="{{monitor.base_url}}">
        <label for="base_url">Base URL</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s6">
        <i class="material-icons prefix">account_circle</i>
        <input id="username" type="text" class="validate" value="{{monitor.username}}">
        <label for="username">Username</label>
      </div>
      <div class="input-field col s6">
        <i class="material-icons prefix">lock</i>
        <input id="password" type="password" class="validate" value="{{monitor.password}}">
        <label for="password">Password</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s6">
        <i class="material-icons prefix">web</i>
        <input placeholder="/api/login" id="login_path" type="text" class="validate" value="{{monitor.login_path}}">
        <label for="login_path">Login Path</label>
      </div>
      <div class="input-field col s6">
        <i class="material-icons prefix">web</i>
        <input placeholder="/api/items" id="monitor_path" type="text" class="validate" value="{{monitor.monitor_path}}">
        <label for="monitor_path">Monitor Path</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s6">
        <div class="switch">
          <label>
            Disabled
            <input type="checkbox" id="monitorEnabled" name="monitorEnabled" {% if monitor.enabled %}checked{% endif %}>
            <span class="lever"></span>
            Enabled
          </label>
        </div>
      </div>
      <div class="input-field col s3">
        <button class="btn waves-effect waves-light blue darken-2" type="button" name="action" onclick="testMonitor()">
          Test
        </button>
        <i id="test_success" hidden class="material-icons green-text">check_circle</i>
        <i id="test_error" hidden class="material-icons red-text">error</i>
      </div>
      <div class="input-field col s1 push-l2">
        {% if action == 'add' %}
        <button class="btn waves-effect waves-light blue" type="button" name="action" onclick="addNewMonitor()">
          Submit
        </button>
        {% else %}
        <button class="btn waves-effect waves-light blue" type="button" name="action" onclick="modifyMonitor('{{monitor.name}}')">
          Submit
        </button>
        {% endif %}
      </div>

    </div>

  </form>

</div>
{% endblock %}